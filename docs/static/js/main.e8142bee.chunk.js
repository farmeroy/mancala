(this["webpackJsonpreact-mancala"]=this["webpackJsonpreact-mancala"]||[]).push([[0],[,,,,,,,,function(e,t,n){e.exports={pit:"HomePit_pit__-ysPF",borderbox:"HomePit_borderbox__PFZ5I"}},function(e,t,n){e.exports={row:"Row_row__30FZR",reverse:"Row_reverse__2Dn4o"}},function(e,t,n){e.exports={board:"Board_board__2cwqB",field:"Board_field__1caeZ"}},function(e,t,n){e.exports={backdrop:"ModalElement_backdrop__22Kbz",modal:"ModalElement_modal__1escT","slide-down":"ModalElement_slide-down__1D3aY"}},function(e,t,n){e.exports={stone:"Stone_stone__35L2-",bump:"Stone_bump__ld9zz"}},function(e,t,n){e.exports={pit:"Pit_pit__2LKnB"}},function(e,t,n){e.exports={"game-over":"GameOverModal_game-over__31Wb0"}},function(e,t,n){e.exports={rules:"RulesModal_rules__2n1W8"}},function(e,t,n){e.exports={header:"Header_header__2Blhh"}},,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o=n(1),r=n.n(o),c=n(2),a=n.n(c),i=(n(21),n(8)),s=n.n(i),l=n(12),d=n.n(l),u=n(0);var h=function(){return Object(u.jsx)("div",{className:d.a.stone})};var j=function(e){for(var t=[],n=e.stones;n>0;n--)t.push(Object(u.jsx)(h,{},"HomePit-".concat(n)));return Object(u.jsx)("div",{className:s.a.borderbox,children:Object(u.jsx)("div",{className:s.a.pit,children:t},e.player)})},b=r.a.createContext({homePit1:0,homePit2:0,row1:[4,4,4,4,4,4],row2:[4,4,4,4,4,4],playerTurn:1,gameOver:!1,moveStone:function(e){},newGame:function(){},endGame:function(e,t){}}),m=n(13),p=n.n(m);var O=function(e){for(var t=[],n=e.stones;n>0;n--)t.push(Object(u.jsx)(h,{},"Pit-".concat(n)));return Object(u.jsx)("button",{className:p.a.pit,disabled:!e.isValid,onClick:e.onMove.bind(null,e.id),children:t})},x=n(9),f=n.n(x);var w=function(e){var t=Object(o.useContext)(b),n=function(e){t.moveStone(e)},r=e.stones.map((function(t,o){return Object(u.jsx)(O,{stones:t,id:{row:e.row,pit:o},isValid:e.playerTurn,onMove:n},o)})),c="".concat(f.a.row," ").concat(1===e.row?f.a.reverse:"");return Object(u.jsx)("div",{className:c,id:e.row,children:r})},v=n(10),y=n.n(v),_=n(11),P=n.n(_),g=function(e){return Object(u.jsx)("div",{onClick:e.onClick,className:P.a.backdrop})},C=function(e){return Object(u.jsx)("div",{className:P.a.modal,children:e.children})},k=function(e){return Object(u.jsxs)(u.Fragment,{children:[a.a.createPortal(Object(u.jsx)(g,{onClick:e.onClick}),document.getElementById("backdrop-root")),a.a.createPortal(Object(u.jsx)(C,{onClick:e.onClick,children:e.children}),document.getElementById("modal-root"))]})},M=n(14),N=n.n(M),E=function(e){var t=e.player1score>e.player2score?"Player 1 is the winner":e.player1score<e.player2score?"Player 2 is the winner":"It's a tie!";return Object(u.jsxs)(k,{onClick:e.onNewGame,children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:t}),Object(u.jsxs)("p",{children:["Player 1: ",e.player1score]}),Object(u.jsxs)("p",{children:["Player 2: ",e.player2score]})]}),Object(u.jsx)("div",{className:N.a["game-over"],children:Object(u.jsx)("button",{onClick:e.onNewGame,children:"Play Again"})})]})};var G=function(){var e=Object(o.useContext)(b),t=e.row1.reduce((function(e,t){return e+t}),0),n=e.row2.reduce((function(e,t){return e+t}),0);return 0!==t&&0!==n||e.gameOver||e.endGame(t,n),Object(u.jsxs)("div",{className:y.a.board,children:[e.gameOver&&Object(u.jsx)(E,{onNewGame:e.newGame,player1score:e.homePit1,player2score:e.homePit2}),Object(u.jsxs)("div",{className:y.a.field,children:[Object(u.jsx)(j,{stones:e.homePit1},1),Object(u.jsxs)("section",{children:[Object(u.jsx)(w,{stones:e.row1,row:1,playerTurn:1===e.playerTurn}),Object(u.jsx)(w,{stones:e.row2,row:2,playerTurn:2===e.playerTurn})]}),Object(u.jsx)(j,{stones:e.homePit2},2)]})]})},T=(n(23),n(6)),B=n(4),S={homePit1:0,homePit2:0,row1:[4,4,4,4,4,4],row2:[4,4,4,4,4,4],playerTurn:1,gameOver:!1},F=function(e,t){if("MOVE"===t.type){var n,o=[e.homePit1,e.homePit2],r=[Object(B.a)(e.row1),Object(B.a)(e.row2)],c=+t.row,a=+t.row;n=1===a?1:0;var i=t.pit,s=r[c-1][i];r[c-1][i]=0;for(var l=s;l>0;l--)1!==l||a!==c||0!==r[c-1][i+1]||0===r[n][4-i]?i+1<6?(i++,r[c-1][i]++):a!==c?a===c||(r[(c=1===a?1:2)-1][0]++,i=0):(o[a-1]++,c=1===a?2:1,i=-1,1===l&&(a=c)):(i++,o[a-1]+=r[n][5-i]+1,r[n][5-i]=0,r[c-1][i]=0);return{homePit1:o[0],homePit2:o[1],row1:Object(B.a)(r[0]),row2:Object(B.a)(r[1]),playerTurn:1===a?2:1}}if("NEW_GAME"===t.type)return S;if("END_GAME"===t.type){var d=+e.homePit1,u=+e.homePit2;return{homePit1:d+t.total1,homePit2:u+t.total2,row1:[0,0,0,0,0,0],row2:[0,0,0,0,0,0],gameOver:!0}}},I=function(e){var t=Object(o.useReducer)(F,S),n=Object(T.a)(t,2),r=n[0],c=n[1],a={homePit1:r.homePit1,homePit2:r.homePit2,row1:r.row1,row2:r.row2,playerTurn:r.playerTurn,gameOver:r.gameOver,moveStone:function(e){c({type:"MOVE",row:e.row,pit:e.pit})},newGame:function(e,t){c({type:"NEW_GAME",total1:e,total2:t})},endGame:function(e,t){c({type:"END_GAME",total1:e,total2:t})}};return Object(u.jsx)(b.Provider,{value:a,children:e.children})},H=n(15),R=n.n(H),A=function(e){return Object(u.jsx)(k,{onClick:e.onCloseModal,children:Object(u.jsxs)("div",{className:R.a.rules,children:[Object(u.jsx)("h2",{children:"How to Play Mancala"}),Object(u.jsx)("p",{children:"Each turn, the current player picks up all of the stones from one of the pits on their side. Moving counter-clockwise, the player deposits one of the stones in each pit until the stones run out."}),Object(u.jsx)("p",{children:"If the last stone you drop is in your own store, take another turn."}),Object(u.jsx)("p",{children:"If the last stone you drop is in an empty hole on your side, you capture that stone and all stones in the hole directly opposite. Place all captured stones in your store."}),Object(u.jsx)("h2",{children:"Winning the Game"}),Object(u.jsx)("p",{children:"The game ends when all six spaces on one side of the board are empty. The player who still has pieces on his side of the board when the game ends captures all of those pieces. Count all the pieces in each store. The winner is the player with the most pieces."}),Object(u.jsx)("button",{onClick:e.onCloseModal,children:"Resume Game"})]})})},D=n(16),W=n.n(D),L=function(){var e=Object(o.useContext)(b),t=Object(o.useState)(!1),n=Object(T.a)(t,2),r=n[0],c=n[1],a=function(){c((function(e){return!e}))};return Object(u.jsxs)("header",{className:W.a.header,children:[r&&Object(u.jsx)(A,{onCloseModal:a}),Object(u.jsx)("h1",{children:"Mancala"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{onClick:function(){e.newGame()},children:"Start Over"}),Object(u.jsx)("button",{onClick:a,children:"How to Play"})]})]})};var V=function(){return Object(u.jsxs)(I,{children:[Object(u.jsx)(L,{}),Object(u.jsx)(G,{})]})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,25)).then((function(t){var n=t.getCLS,o=t.getFID,r=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),o(e),r(e),c(e),a(e)}))};a.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(V,{})}),document.getElementById("root")),z()}],[[24,1,2]]]);
//# sourceMappingURL=main.e8142bee.chunk.js.map